# 트리(Tree)

트리는 계층적 관계를 표현하는 비선형 자료구조입니다.

## 트리의 기본 개념

- **노드(Node)**: 트리의 기본 요소로, 데이터를 저장합니다.
- **간선(Edge)**: 노드와 노드를 연결하는 선입니다.
- **루트(Root)**: 트리의 최상위 노드입니다.
- **부모 노드(Parent Node)**: 특정 노드의 상위 노드입니다.
- **자식 노드(Child Node)**: 특정 노드의 하위 노드입니다.
- **형제 노드(Sibling)**: 같은 부모를 가진 노드들입니다.
- **리프 노드(Leaf Node)**: 자식이 없는 노드입니다.
- **내부 노드(Internal Node)**: 적어도 하나의 자식을 가진 노드입니다.
- **깊이(Depth)**: 루트에서 특정 노드까지의 거리입니다.
- **높이(Height)**: 트리의 최대 깊이입니다.

## 트리의 종류

### 이진 트리(Binary Tree)

각 노드가 최대 두 개의 자식을 가질 수 있는 트리입니다. 이진 트리의 각 노드는 왼쪽 자식과 오른쪽 자식으로 구분됩니다.

#### 이진 트리의 특징

- 노드가 가질 수 있는 자식 노드의 수는 최대 2개입니다.
- 자식 노드는 왼쪽 자식과 오른쪽 자식으로 명확하게 구분됩니다.
- 노드의 차수(degree)는 자식 노드의 수를 의미합니다.
- 높이가 h인 이진 트리가 가질 수 있는 최대 노드 수는 2^(h+1) - 1입니다.

#### 이진 트리의 종류

- **완전 이진 트리(Complete Binary Tree)**: 마지막 레벨을 제외한 모든 레벨이 완전히 채워져 있고, 마지막 레벨은 왼쪽부터 채워진 트리입니다.

  - 배열로 구현할 때 효율적인 구조입니다.
  - 힙(Heap) 자료구조는 완전 이진 트리를 기반으로 합니다.

- **포화 이진 트리(Full Binary Tree)**: 모든 내부 노드가 정확히 두 개의 자식을 가지고, 모든 리프 노드가 같은 레벨에 있는 트리입니다.

  - 모든 레벨이 꽉 차있는 이진 트리입니다.
  - 높이가 h인 포화 이진 트리의 노드 수는 정확히 2^(h+1) - 1입니다.

- **균형 이진 트리(Balanced Binary Tree)**: 왼쪽과 오른쪽 서브트리의 높이 차이가 1 이하인 트리입니다.
  - 트리의 균형을 유지하여 검색, 삽입, 삭제 연산의 시간 복잡도를 O(log n)으로 보장합니다.
  - AVL 트리, 레드-블랙 트리는 균형 이진 트리의 예입니다.

### 이진 탐색 트리(Binary Search Tree)

이진 탐색 트리는 이진 트리의 일종으로, 다음과 같은 특별한 속성을 가집니다:

- 왼쪽 서브트리의 모든 노드는 현재 노드보다 작은 값을 가집니다.
- 오른쪽 서브트리의 모든 노드는 현재 노드보다 큰 값을 가집니다.
- 각 서브트리도 이진 탐색 트리입니다.

#### 이진 탐색 트리의 특징

- **정렬된 상태 유지**: 중위 순회(Inorder traversal)를 수행하면 오름차순으로 정렬된 값을 얻을 수 있습니다.
- **효율적인 검색**: 평균적으로 O(log n)의 시간 복잡도로 검색이 가능합니다.
- **동적 데이터 집합**: 삽입과 삭제가 비교적 간단하게 구현됩니다.

#### 이진 탐색 트리의 연산

1. **검색(Search)**

   - 루트 노드부터 시작하여 찾고자 하는 값과 비교합니다.
   - 찾는 값이 현재 노드보다 작으면 왼쪽 서브트리로, 크면 오른쪽 서브트리로 이동합니다.
   - 시간 복잡도: 평균 O(log n), 최악 O(n)

2. **삽입(Insertion)**

   - 적절한 위치를 찾아 새 노드를 삽입합니다.
   - 삽입 후에도 이진 탐색 트리의 속성이 유지되어야 합니다.
   - 시간 복잡도: 평균 O(log n), 최악 O(n)

3. **삭제(Deletion)**
   - 삭제할 노드가 리프 노드인 경우: 단순히 제거합니다.
   - 삭제할 노드가 하나의 자식을 가진 경우: 자식 노드를 부모 노드에 연결합니다.
   - 삭제할 노드가 두 개의 자식을 가진 경우: 오른쪽 서브트리의 최소값(또는 왼쪽 서브트리의 최대값)으로 대체합니다.
   - 시간 복잡도: 평균 O(log n), 최악 O(n)

#### 이진 탐색 트리의 한계

- 트리가 균형을 이루지 않으면(편향 트리) 성능이 저하됩니다(최악의 경우 O(n)).
- 이러한 한계를 극복하기 위해 AVL 트리, 레드-블랙 트리와 같은 자가 균형 이진 탐색 트리가 개발되었습니다.

## 트리 순회 방법

- **전위 순회(Preorder)**: 루트 → 왼쪽 서브트리 → 오른쪽 서브트리
- **중위 순회(Inorder)**: 왼쪽 서브트리 → 루트 → 오른쪽 서브트리
- **후위 순회(Postorder)**: 왼쪽 서브트리 → 오른쪽 서브트리 → 루트
- **레벨 순회(Level-order)**: 레벨별로 왼쪽에서 오른쪽으로 순회

## 트리의 활용

- 계층적 데이터 표현 (파일 시스템, 조직도)
- 효율적인 검색 (이진 탐색 트리)
- 네트워크 라우팅
- 구문 분석
- 의사 결정 시스템
